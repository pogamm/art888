<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Daily Summary</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  body {
    margin: 0;
    padding: 16px;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    background: #f4f6fb;
  }

  .card {
    max-width: 520px;
    margin: auto;
    background: #ffffff;
    border-radius: 18px;
    padding: 16px;
    box-shadow: 0 10px 25px rgba(0,0,0,.08);
  }

  h2 {
    text-align: center;
    font-size: 18px;
    margin-bottom: 8px;
    color: #111827;
  }

  canvas {
    width: 100% !important;
    height: 220px !important;
  }

  .summary {
    margin-top: 12px;
    padding: 12px;
    border-radius: 12px;
    background: #f9fafb;
    font-size: 14px;
    line-height: 1.6;
    color: #1f2937;
  }

  .tip {
    margin-top: 10px;
    padding: 12px;
    border-radius: 12px;
    background: #eef2ff;
    font-size: 14px;
    color: #1e3a8a;
  }
</style>
</head>

<body>

<div class="card">
  <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
  <canvas id="chart"></canvas>

  <div id="summaryText" class="summary"></div>
  <div id="tipText" class="tip"></div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  setTimeout(() => {

    const params = new URLSearchParams(window.location.search);

    const energy = Number(params.get("a")) || 0;
    const mind   = Number(params.get("b")) || 0;
    const focus  = Number(params.get("c")) || 0;
    const life   = Number(params.get("d")) || 0;

    const values = [energy, mind, focus, life];
    const labels = ["Energy", "Mind", "Focus", "Life"];

    const avg = values.reduce((a,b)=>a+b,0) / values.length;

    // ‡∏ß‡∏≤‡∏î‡∏Å‡∏£‡∏≤‡∏ü
    const ctx = document.getElementById("chart").getContext("2d");
    new Chart(ctx, {
      type: "bar",
      data: {
        labels,
        datasets: [{
          data: values,
          backgroundColor: ["#60A5FA","#34D399","#A78BFA","#FB923C"],
          borderRadius: 12
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { legend: { display: false } },
        scales: { y: { beginAtZero: true, max: 10 } }
      }
    });

    // üß† ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•
    const summaryText = document.getElementById("summaryText");
    if (avg >= 7) {
      summaryText.innerHTML =
        "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏î‡∏µ ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏™‡∏°‡∏î‡∏∏‡∏• ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏™‡∏°‡∏≤‡∏ò‡∏¥";
    } else if (avg >= 4) {
      summaryText.innerHTML =
        "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‡∏°‡∏µ‡∏ö‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡∏≠‡πà‡∏≠‡∏ô‡∏•‡πâ‡∏≤ ‡∏Ñ‡∏ß‡∏£‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡πà‡∏ß‡∏á ‡πÜ";
    } else {
      summaryText.innerHTML =
        "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡∏≠‡∏≤‡∏à‡∏•‡πâ‡∏≤‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏°‡∏≤‡∏Å ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏•‡∏î‡∏†‡∏≤‡∏£‡∏∞‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô";
    }

    // üí° ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
    const tipText = document.getElementById("tipText");
    const minIndex = values.indexOf(Math.min(...values));

    const tips = [
      "‡∏•‡∏≠‡∏á‡∏ô‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏¢‡∏±‡∏ö‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏ö‡∏≤ ‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô",
      "‡∏´‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô ‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏™‡∏±‡∏Å‡∏û‡∏±‡∏Å",
      "‡πÅ‡∏ö‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏Å‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ß‡∏±‡∏ô",
      "‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å ‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏£‡∏≠‡∏ö‡∏Ç‡πâ‡∏≤‡∏á"
    ];

    tipText.innerHTML = "‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: " + tips[minIndex];

  }, 300);
});
</script>

</body>
</html>
